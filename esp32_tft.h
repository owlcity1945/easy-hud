#define WIDTH  200
#define HEIGHT 240
#define CF_OL32 &Orbitron_Light_32

//指针计数
static int counter = 0;

#define BEEP_PIN 2
//蜂鸣器引脚
#define Beep_on digitalWrite(BEEP_PIN,HIGH)
#define Beep_off  digitalWrite(BEEP_PIN,LOW)


//定义全局变量
volatile int32_t encoderPos = 0;//“这个变量随时可能被中断（ISR）改动，每次用都要从内存里重新取最新值”。
static int aLastState   = 0;

//PWM引脚
// const int pwm =27;
// int freq =10000;
// int channel = 0;
// int resolution = 8;//8 位	2⁸ = 256 个等级（0~255）	标准亮度控制，如 LED 10 位	2¹⁰ = 1024 个等级（0~1023）	更细的控制精度（音量、马达）12位4095更高级

//编码器按键计数
static int encounter = 0;
static int flash_freq = 120;
//按键标志位
static int click_flag = 0;
static int double_flag = 0;
static int long_flag = 0;

//通信变量
static float pemh = 2.0f;
static float peml = 1.0f;
static float p_xs = 0.0f;


// 舵机1配置 (引脚25)
const int servo1 = 25;     //IO25 发射
const int channel1 = 0;    // 使用PWM通道0

// 舵机2配置 (引脚26)
const int servo2 = 26;     //IO26 泄压
const int channel2 = 1;    // 使用PWM通道1

// 共用配置
const int freq = 50;       // 50Hz标准频率
const int resolution = 12; // 12位分辨率(0-4095)

const uint8_t digit_16x16[10][32] = {
  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x3E,0x00, 0x22,0x00, 0x41,0x00, 0x41,0x00, 0x41,0x00,
   0x41,0x00, 0x41,0x00, 0x41,0x00, 0x22,0x00, 0x3E,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x04,0x00, 0x0C,0x00, 0x34,0x00, 0x04,0x00, 0x04,0x00,
   0x04,0x00, 0x04,0x00, 0x04,0x00, 0x04,0x00, 0x04,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x3E,0x00, 0x43,0x00, 0x01,0x00, 0x01,0x00, 0x02,0x00,
   0x02,0x00, 0x04,0x00, 0x08,0x00, 0x30,0x00, 0x7F,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x3C,0x00, 0x42,0x00, 0x02,0x00, 0x02,0x00, 0x1C,0x00,
   0x03,0x00, 0x01,0x00, 0x01,0x00, 0x42,0x00, 0x3C,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x02,0x00, 0x06,0x00, 0x0A,0x00, 0x12,0x00, 0x22,0x00,
   0x42,0x00, 0x82,0x00, 0xFF,0x00, 0x02,0x00, 0x02,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x3F,0x00, 0x20,0x00, 0x20,0x00, 0x40,0x00, 0x7E,0x00,
   0x41,0x00, 0x01,0x00, 0x01,0x00, 0x41,0x00, 0x3E,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x1E,0x00, 0x21,0x00, 0x40,0x00, 0x40,0x00, 0x5E,0x00,
   0x61,0x00, 0x41,0x00, 0x41,0x00, 0x21,0x00, 0x1E,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x7F,0x00, 0x02,0x00, 0x02,0x00, 0x04,0x00, 0x04,0x00,
   0x08,0x00, 0x08,0x00, 0x10,0x00, 0x10,0x00, 0x10,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x1E,0x00, 0x62,0x00, 0x41,0x00, 0x41,0x00, 0x3E,0x00,
   0x63,0x00, 0x41,0x00, 0x41,0x00, 0x43,0x00, 0x3E,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00},

  {0x00,0x00, 0x00,0x00, 0x00,0x00, 0x3C,0x00, 0x62,0x00, 0x41,0x00, 0x41,0x00, 0x63,0x00,
   0x3D,0x00, 0x01,0x00, 0x01,0x00, 0x42,0x00, 0x3C,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00}
};



//TFT引脚
//#define TFT_MOSI 13
//#define TFT_SCLK 14
//#define TFT_DC    4  // Data Command control pin
//#define TFT_RST   5  // Reset pin (could connect to RST pin)

//编码器
// int aState = digitalRead(32);  // A 相
// int bState = digitalRead(33);  // B 相
// const uint8_t PIN_INPUT = 35;  // C 相

// BHO055姿态传感器 
// I2C 引脚：SDA = GPIO18, SCL = GPIO19

//esp32通信设置串口
// 16为RX，17为TX

//蜂鸣器引脚
// BEEP_PIN 2


//  TFT_BLACK,    //  0  ^
//  TFT_BROWN,    //  1  |棕色的
//  TFT_RED,      //  2  |
//  TFT_ORANGE,   //  3  |
//  TFT_YELLOW,   //  4  Colours 0-9 follow the resistor colour code!
//  TFT_GREEN,    //  5  |
//  TFT_BLUE,     //  6  |
//  TFT_PURPLE,   //  7  |紫色
//  TFT_DARKGREY, //  8  |灰色
//  TFT_WHITE,    //  9  
//  TFT_CYAN,     // 10   青色Blue+green mix
//  TFT_MAGENTA,  // 11   洋红Blue+red mix
//  TFT_MAROON,   // 12   褐红色的Darker red colour
//  TFT_DARKGREEN,// 13   暗绿色Darker green colour
//  TFT_NAVY,     // 14   海军Darker blue colour
//  TFT_PINK      // 15   粉红色


//These enumerate the text plotting alignment (reference datum point)
//#define TL_DATUM 0 // Top left (default)
//#define TC_DATUM 1 // Top centre
//#define TR_DATUM 2 // Top right
//#define ML_DATUM 3 // Middle left
//#define CL_DATUM 3 // Centre left, same as above
//#define MC_DATUM 4 // Middle centre
//#define CC_DATUM 4 // Centre centre, same as above
//#define MR_DATUM 5 // Middle right
//#define CR_DATUM 5 // Centre right, same as above
//#define BL_DATUM 6 // Bottom left
//#define BC_DATUM 7 // Bottom centre
//#define BR_DATUM 8 // Bottom right
//#define L_BASELINE  9 // Left character baseline (Line the 'A' character would sit on)
//#define C_BASELINE 10 // Centre character baseline
//#define R_BASELINE 11 // Right character baseline
